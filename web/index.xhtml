<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:p="http://primefaces.org/ui">
<h:head></h:head>
   <h:body>
      <f:view>
         <p:dataTable var="customer" value="#{CustomerView.customers.customer}" id="customerTable">
            <p:column headerText="Id">
               <h:outputText value="#{customer.id}"/>
            </p:column>

            <p:column headerText="FirstName">
               <h:inputText id="firstName" value="#{customer.firstName}">
                  <p:ajax event="keyup"/>
               </h:inputText>
            </p:column>

            <p:column headerText="LastName">
               <h:inputText id="lastName" value="#{customer.lastName}">
                  <p:ajax event="keyup"/>
               </h:inputText>
            </p:column>

            <p:column headerText="PowerRecords">
               <h:link outcome="detailView" includeViewParams="true"
                       value = "PowerRecords">
                  <f:param name="customerId" value="#{customer.id-1}"/>
               </h:link>
            </p:column>

            <p:column headerText="Delete">
               <h:form>
               <h:commandButton includeViewParams="true" update="customerTable"
                       value = "Delete" action="#{CustomerView.deleteCustomer(customer.id-1)}">
               </h:commandButton>
               </h:form>
            </p:column>
         </p:dataTable>
         <br/>
         <h:form>
            <h:commandButton action = "#{navigationController.showPage}"
                             value = "Add new Customer">
               <f:param name="pageId" value="1"/>
            </h:commandButton>
         </h:form>
         <!-- <h:link outcome="addCustomer" includeViewParams="true"
                 value = "Add new Customer">
         </h:link> -->
      </f:view>
   </h:body>
</html>
